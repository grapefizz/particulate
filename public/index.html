<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Particulate: Falling Sand</title>
    <style>
        html, body { height: 100%; margin: 0; background: #222; }
        body { display: flex; align-items: center; justify-content: center; height: 100vh; }
        canvas { background: #111; display: block; box-shadow: 0 0 16px #000; }
    </style>
</head>
<body>
    <div style="display: flex; flex-direction: column; align-items: center; gap: 1em;">
        <canvas id="canvas" width="800" height="600"></canvas>
        <label style="color: #eee; font-family: sans-serif;">
            Brush Size:
            <input type="range" id="brush" min="1" max="12" value="3" style="vertical-align: middle;">
            <span id="brush-value">3</span>
        </label>
    </div>
    <script type="module">
        import init from './pkg/particulate.js';
        // Show brush value
        const brush = document.getElementById('brush');
        const brushValue = document.getElementById('brush-value');
        brush.addEventListener('input', () => {
            brushValue.textContent = brush.value;
        });
        // Expose brush size getter for Rust
        window.get_brush_size = () => parseInt(brush.value, 10);
        // Prevent context menu on canvas for right click erase
        document.getElementById('canvas').addEventListener('contextmenu', e => e.preventDefault());
        init();
    </script>
</body>
</html>
